Preheat the oven to 350°F (177°C). Line a 12-cup muffin pan with cupcake liners. Line a second pan with 2 liners – this recipe makes about 14 cupcakes. Set aside.
Cupcakes: Whisk the flour, cocoa powder, baking powder, baking soda, and salt together in a large bowl until thoroughly combined. Set aside. In a medium bowl, whisk the eggs, granulated sugar, brown sugar, oil, and vanilla together until combined. Pour half of the wet ingredients into the dry ingredients. Then half of the buttermilk. Gently whisk for a few seconds. Repeat with the remaining wet ingredients and buttermilk. Stir until *just* combined; do not overmix. The batter will be thin.
Pour or spoon the batter into the liners. Fill only halfway (this is imperative! only halfway!) to avoid spilling over the sides or sinking.
Bake for 18-21 minutes, or until a toothpick inserted in the center comes out clean. Allow to cool completely before frosting.  let them cool in the pan.

For Chocolate Buttercream Frosting-
h a handheld or stand mixer fitted with a paddle or whisk attachment, beat the butter on medium speed until creamy – about 2 minutes. Add confectioners’ sugar, cocoa powder, heavy cream, salt, and vanilla extract. Beat on low speed for 30 seconds, then increase to high speed and beat for 1 full minute. Add 1/4 cup more confectioners’ sugar or cocoa powder if frosting is too thin or another Tablespoon of cream if frosting is too thick.
Use immediately or cover tightly and store for up to 1 week in the refrigerator or up to 3 months in the freezer. After freezing, thaw in the refrigerator then beat the frosting on medium speed for a few seconds so it’s creamy again. After thawing or refrigerating, beating in a splash of heavy cream or milk will help thin the frosting out again, if needed.